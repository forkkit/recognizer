<div class="box">
  <h2 class="title is-2 mb-5 has-text-centered-mobile">Two Factor App</h2>

  <div class="my-4">
    <p>
      Scan the image below with the two-factor authentication app on your phone.
      If you canâ€™t use a barcode, use the URL instead.
    </p>
  </div>

  <div class="has-text-centered is-centered qrcode">
    <%= raw two_factor_barcode(@user, @settings) %>
  </div>

  <div class="my-4">
    <pre><code><%= two_factor_url(@user, @settings) %></pre></code>
  </div>

  <%= form_for @changeset, "#", [phx_submit: :app_validate], fn f -> %>
    <div class="field">
      <%= label f, :two_factor_code, "Enter the six-digit authentication code", class: "label" %>

      <div class="control">
        <%= text_input f, :two_factor_code,
          inputmode: "numeric",
          pattern: "[0-9]*",
          autocomplete: "one-time-code",
          required: true,
          class: "is-medium #{input_classes(f, :two_factor_code)}"
        %>
      </div>

      <%= error_tag f, :two_factor_code %>
    </div>

    <div class="my-4">
      <p>
        After scanning the barcode image, the app will display a six-digit code
        that you can enter above.
      </p>
    </div>

    <div class="buttons is-right mt-6">
      <%= submit "Enable", class: "button is-secondary" %>
    </div>
  <% end %>
</div>
